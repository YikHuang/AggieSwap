{"ast":null,"code":"var _jsxFileName = \"/Users/angelayoon/Downloads/ECS265/AggieSwap/frontend/src/confirm/Confirm.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Confirm() {\n  _s();\n  const [payment, setPayment] = useSearchParams();\n  const [transactionFee, setTransactionFee] = useState({\n    fee: \"\",\n    currency: \"\"\n  });\n  const [successfulDialog, setSuccessfulDialog] = useState(false);\n  const [failedDialog, setFailedDialog] = useState(false);\n  const addrRef = useRef();\n  const privateKeyRef = useRef();\n  const paidAmt = payment.get('paidAmt');\n  const paidCurrency = payment.get('paidCurrency');\n  const receivedAmt = payment.get('receivedAmt');\n  const receivedCurrency = payment.get('receivedCurrency');\n  useEffect(() => {\n    if (transactionFee.fee === \"\") {\n      SendGetTransacFeeRequest();\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transactionForm flex-container2  px-4 px-lg-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [paidAmt, \" \", paidCurrency, \" => \", receivedAmt, \" \", receivedCurrency]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Transaction Fee: \", transactionFee.fee, \" \", transactionFee.currency]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Max Slippage: 0.3%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"transactionTextbox\",\n          ref: addrRef,\n          placeholder: \"Account Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"transactionTextbox\",\n          ref: privateKeyRef,\n          placeholder: \"Private Key\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-xl\",\n          onClick: e => SendSwapRequest(e),\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/swap\",\n          className: \"btn btn-primary btn-xl\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), successfulDialog && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"modal-text\",\n          children: \"Transaction Success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/wallet\",\n          className: \"close-modal\",\n          children: \"close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), failedDialog && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"modal-text\",\n          children: \"Transaction Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/swap\",\n          className: \"close-modal\",\n          children: \"close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n  async function SendGetTransacFeeRequest() {\n    var response;\n    const url = \"http://localhost:3005/getTransacFee\";\n    const apiName = \"getTransacFee\";\n    const request = {\n      apiName: apiName\n    };\n    console.log(request);\n    await Axios.post(url, request).then(res => {\n      response = res.data;\n      setTransactionFee({\n        fee: response.fee,\n        currency: response.currency\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    console.log(response);\n  }\n  async function SendSwapRequest(e) {\n    e.preventDefault();\n    var response;\n    const url = \"http://localhost:3005/swap\";\n    const apiName = \"swap\";\n    const accountAddr = addrRef.current.value;\n    const privateKey = privateKeyRef.current.value;\n    const request = {\n      apiName: apiName,\n      accountAddr: accountAddr,\n      privateKey: privateKey,\n      amt: paidAmt,\n      fee: transactionFee.fee,\n      from: paidCurrency,\n      to: receivedCurrency\n    };\n    console.log(request);\n    await Axios.post(url, request).then(res => {\n      response = res.data;\n      if (response.isSuccessful == true) {\n        setSuccessfulDialog(true);\n      } else {\n        setFailedDialog(true);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n    console.log(response);\n  }\n}\n_s(Confirm, \"HOLMTn8s3CE4zdScMN8F+jP2aNM=\", false, function () {\n  return [useSearchParams];\n});\n_c = Confirm;\nexport default Confirm;\nvar _c;\n$RefreshReg$(_c, \"Confirm\");","map":{"version":3,"names":["useEffect","useRef","useState","useSearchParams","Axios","Confirm","payment","setPayment","transactionFee","setTransactionFee","fee","currency","successfulDialog","setSuccessfulDialog","failedDialog","setFailedDialog","addrRef","privateKeyRef","paidAmt","get","paidCurrency","receivedAmt","receivedCurrency","SendGetTransacFeeRequest","e","SendSwapRequest","response","url","apiName","request","console","log","post","then","res","data","catch","error","preventDefault","accountAddr","current","value","privateKey","amt","from","to","isSuccessful"],"sources":["/Users/angelayoon/Downloads/ECS265/AggieSwap/frontend/src/confirm/Confirm.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport Axios from 'axios';\n\nfunction Confirm() {\n  const [payment, setPayment] = useSearchParams();\n  const [transactionFee, setTransactionFee] = useState({fee: \"\", currency: \"\"});\n  const [successfulDialog, setSuccessfulDialog] = useState(false);\n  const [failedDialog, setFailedDialog] = useState(false);\n  const addrRef = useRef();\n  const privateKeyRef = useRef();\n\n  const paidAmt = payment.get('paidAmt');\n  const paidCurrency = payment.get('paidCurrency');\n  const receivedAmt = payment.get('receivedAmt');\n  const receivedCurrency = payment.get('receivedCurrency');\n\n  useEffect(() => {\n    if(transactionFee.fee === \"\"){\n      SendGetTransacFeeRequest();\n    }\n  })\n\n\n  return (\n    <>\n      <div className=\"transactionForm flex-container2  px-4 px-lg-5\">\n        <div>\n          <h1>{paidAmt} {paidCurrency} =&gt; {receivedAmt} {receivedCurrency}</h1>\n        </div>\n        <div>\n          <h3>Transaction Fee: {transactionFee.fee} {transactionFee.currency}</h3>\n        </div>\n        <div>\n          <h3>Max Slippage: 0.3%</h3>\n        </div>\n        <div>\n          <input type=\"text\" className=\"transactionTextbox\" ref={addrRef} placeholder=\"Account Address\"></input>\n        </div>\n        <div>\n          <input type=\"text\" className=\"transactionTextbox\" ref={privateKeyRef} placeholder=\"Private Key\"></input>\n        </div>\n        <div>\n          <button className=\"btn btn-primary btn-xl\" onClick={(e) => SendSwapRequest(e)}>Confirm</button>\n          <a href=\"/swap\" className=\"btn btn-primary btn-xl\">Cancel</a>\n        </div>\n      </div>\n\n\n\n      {successfulDialog && (\n        <div className=\"modal\">\n        <div className=\"overlay\"></div>\n        <div className=\"modal-content\">\n          <h1 className=\"modal-text\">Transaction Success</h1>\n          <a href=\"/wallet\" className=\"close-modal\">close</a>\n        </div>\n        </div>\n      )}\n      {failedDialog && (\n        <div className=\"modal\">\n        <div className=\"overlay\"></div>\n        <div className=\"modal-content\">\n          <h1 className=\"modal-text\">Transaction Failed</h1>\n          <a href=\"/swap\" className=\"close-modal\">close</a>\n        </div>\n        </div>\n      )}\n\n    </>\n  )\n\n\n  async function SendGetTransacFeeRequest(){\n\n    var response;\n    const url = \"http://localhost:3005/getTransacFee\";\n    const apiName = \"getTransacFee\";\n    const request = {apiName: apiName};\n    console.log(request);\n    \n    await Axios\n      .post(url, request)\n      .then(res => {\n        response = res.data;\n        setTransactionFee({fee: response.fee, currency: response.currency});\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n    console.log(response);\n\n  }  \n\n  async function SendSwapRequest(e){\n    e.preventDefault();\n\n    var response;\n    const url = \"http://localhost:3005/swap\";\n    const apiName = \"swap\";\n    const accountAddr = addrRef.current.value;\n    const privateKey = privateKeyRef.current.value;\n\n    const request = {apiName: apiName, accountAddr: accountAddr, privateKey: privateKey, \n      amt: paidAmt, fee: transactionFee.fee, from: paidCurrency, to: receivedCurrency};\n    console.log(request);\n    \n    await Axios\n      .post(url, request)\n      .then(res => {\n        response = res.data;\n        if(response.isSuccessful == true){\n          setSuccessfulDialog(true);\n        }\n        else{\n          setFailedDialog(true);\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n    console.log(response);\n\n  }  \n\n}\n\nexport default Confirm\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}